# âœ… TradeCoin ì‘ì—… ì™„ë£Œ ë³´ê³ ì„œ

**ì‘ì„±ì¼**: 2025-12-02
**ì‘ì—… ì‹œê°„**: ì•½ 1ì‹œê°„

---

## ğŸ“‹ ì‘ì—… ìš”ì•½

ì˜¤ëŠ˜ì€ **Firebase Cloud Run ë°°í¬ ì¤€ë¹„** ë° **íŠ¸ìœ— ë²ˆì—­ ê¸°ëŠ¥ UI ì—°ë™**ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1ï¸âƒ£ Firebase Cloud Run ë°°í¬ ì¤€ë¹„ âœ…

#### 1.1 ë°°í¬ íŒŒì¼ ìƒì„±
- âœ… **Dockerfile** ìƒì„± ì™„ë£Œ
  - íŒŒì¼ ìœ„ì¹˜: `/backend/Dockerfile`
  - Python 3.10 ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì‚¬ìš©
  - Gunicorn ì„¤ì • (workers=1, threads=8)
  - Cloud Run ìµœì í™” ì„¤ì •

- âœ… **.dockerignore** ìƒì„± ì™„ë£Œ
  - íŒŒì¼ ìœ„ì¹˜: `/backend/.dockerignore`
  - ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸ (venv, logs, DB, í…ŒìŠ¤íŠ¸ íŒŒì¼ ë“±)

#### 1.2 ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
- âœ… **requirements.txt** ì—…ë°ì´íŠ¸
  - `googletrans==4.0.0-rc1` ì¶”ê°€ (íŠ¸ìœ— ë²ˆì—­ìš©)
  - ê¸°ì¡´ íŒ¨í‚¤ì§€ ìœ ì§€ (Flask, gunicorn ë“±)

#### 1.3 ë°°í¬ ê°€ì´ë“œ ë¬¸ì„œ ì‘ì„±
- âœ… **FIREBASE_CLOUD_RUN_ë°°í¬ê°€ì´ë“œ.md** ì‘ì„± ì™„ë£Œ
  - íŒŒì¼ ìœ„ì¹˜: `/backend/FIREBASE_CLOUD_RUN_ë°°í¬ê°€ì´ë“œ.md`
  - ì „ì²´ ë°°í¬ í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ì„¤ëª…
  - gcloud ëª…ë ¹ì–´ í¬í•¨
  - í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ë°©ë²•
  - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
  - ë¹„ìš© ì •ë³´ (ë¬´ë£Œ!)

#### 1.4 ë°°í¬ ë¹„ìš© ë¶„ì„
```
ë¬´ë£Œ í• ë‹¹ëŸ‰ (ë§¤ì›”):
âœ… ìš”ì²­: 200ë§Œ ê±´
âœ… CPU: 18ë§Œ vCPUì´ˆ
âœ… ë©”ëª¨ë¦¬: 36ë§Œ GiBì´ˆ
âœ… ë„¤íŠ¸ì›Œí¬: 1GB

ì‚¬ìš©ì 500ëª… ê¸°ì¤€ ì˜ˆìƒ:
- ìš”ì²­: ~30ë§Œ ê±´/ì›”
- ë¹„ìš©: $0 (ë¬´ë£Œ!)

ğŸ’¡ ê²°ë¡ : ì™„ì „ ë¬´ë£Œë¡œ ìš´ì˜ ê°€ëŠ¥! ğŸ‰
```

---

### 2ï¸âƒ£ íŠ¸ìœ— ë²ˆì—­ ê¸°ëŠ¥ UI ì—°ë™ âœ…

#### 2.1 ë°ì´í„° ëª¨ë¸ ì—…ë°ì´íŠ¸

**íŒŒì¼**: `lib/src/features/signals/models/signal_model.dart`

**ì¶”ê°€ëœ í•„ë“œ** (SentimentAnalysis í´ë˜ìŠ¤):
```dart
class SentimentAnalysis {
  // ê¸°ì¡´ í•„ë“œë“¤...

  // ğŸ”¥ íŠ¸ìœ— ë²ˆì—­ ê´€ë ¨ í•„ë“œ ì¶”ê°€
  final String? tweetTextEn; // ì›ë¬¸ (ì˜ì–´)
  final String? tweetTextKo; // ë²ˆì—­ë¬¸ (í•œêµ­ì–´)
  final String? tweetAuthor; // ì‘ì„±ì (@username)
  final String? tweetUrl; // íŠ¸ìœ— URL

  // ...
}
```

#### 2.2 ë°±ì—”ë“œ API ì—…ë°ì´íŠ¸

**íŒŒì¼**: `backend/social_signal_generator.py`

**ë³€ê²½ ì‚¬í•­**:
```python
# íŠ¸ìœ— ì›ë¬¸ ë° ë²ˆì—­ í…ìŠ¤íŠ¸ ì¶”ì¶œ (ìµœì‹  íŠ¸ìœ— ì‚¬ìš©)
tweet_text_en = latest_tweet.get('text', '')
tweet_text_ko = translate_to_korean(tweet_text_en) if tweet_text_en else None
tweet_author = f"@{influencer}"
tweet_url = latest_tweet.get('url', '')

signal = {
    # ...ê¸°ì¡´ í•„ë“œ...
    'sentimentAnalysis': {
        # ...ê¸°ì¡´ í•„ë“œ...
        # ğŸ”¥ íŠ¸ìœ— ë²ˆì—­ ë°ì´í„° ì¶”ê°€
        'tweetTextEn': tweet_text_en,
        'tweetTextKo': tweet_text_ko,
        'tweetAuthor': tweet_author,
        'tweetUrl': tweet_url
    },
}
```

#### 2.3 Flutter UI ì—…ë°ì´íŠ¸

**íŒŒì¼**: `lib/src/features/signals/screens/signals_screen.dart`

**ë³€ê²½ ì‚¬í•­**:
```dart
// íŠ¸ìœ— ë‚´ìš© ì „ì²´ í‘œì‹œ (í•œ/ì˜ ë²ˆì—­)
if (signal.sentimentAnalysis?.tweetTextKo != null) ...[
  // í•œêµ­ì–´ ë²ˆì—­ë¬¸ (í¬ê²Œ, ëˆˆì— ë„ê²Œ í‘œì‹œ)
  Text(
    signal.sentimentAnalysis!.tweetTextKo!,
    style: TextStyle(
      color: Colors.white,
      fontSize: 13,
      height: 1.6,
      fontWeight: FontWeight.w500,
    ),
  ),
  const SizedBox(height: 8),
  // ì›ë¬¸ (ì‘ê²Œ, ì´íƒ¤ë¦­ìœ¼ë¡œ í‘œì‹œ)
  if (signal.sentimentAnalysis?.tweetTextEn != null)
    Text(
      signal.sentimentAnalysis!.tweetTextEn!,
      style: TextStyle(
        color: Colors.grey[400],
        fontSize: 11,
        height: 1.5,
        fontStyle: FontStyle.italic,
      ),
    ),
]
```

#### 2.4 ë²ˆì—­ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

```bash
# googletrans ì„¤ì¹˜ ì™„ë£Œ
pip install googletrans==4.0.0-rc1

# ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ìë™ ì„¤ì¹˜:
- httpx==0.13.3
- hstspreload
```

---

## ğŸ¯ ì˜ˆìƒ UI ê²°ê³¼

### ì‹œê·¸ë„ ì¹´ë“œ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸª™ TRUMP   â­ HIGH   80%            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë§¤ìˆ˜ â€¢ ê°•í•¨  â€¢ â° ë°©ê¸ˆ ì „             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ ìµœì‹  íŠ¸ìœ— ë‚´ìš©                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”Š ë²ˆì—­ (í•œêµ­ì–´):                 â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ "ë‚˜ëŠ” ê¸ˆìš”ì¼ì— ë°±ì•…ê´€ì—ì„œ ëŒ€í†µë ¹ì´   â”‚ â”‚
â”‚ â”‚  ì£¼ìµœí•˜ëŠ” ë””ì§€í„¸ ìì‚° ì •ìƒíšŒë‹´ì—    â”‚ â”‚
â”‚ â”‚  ì´ˆëŒ€ë°›ì•˜ìŠµë‹ˆë‹¤."                  â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ ğŸ“„ ì›ë¬¸ (ì˜ì–´):                   â”‚ â”‚
â”‚ â”‚ "I have been invited to the     â”‚ â”‚
â”‚ â”‚  Digital Assets Summit at the   â”‚ â”‚
â”‚ â”‚  White House this Friday..."    â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ @realDonaldTrump             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Python 3.10**
- **Flask** - API ì„œë²„
- **googletrans 4.0.0-rc1** - ë²ˆì—­ ì—”ì§„
- **Gunicorn** - í”„ë¡œë•ì…˜ ì„œë²„
- **Docker** - ì»¨í…Œì´ë„ˆí™”

### í”„ë¡ íŠ¸ì—”ë“œ
- **Flutter 3.x**
- **Dart 3.x**
- **Riverpod** - ìƒíƒœ ê´€ë¦¬

### ë°°í¬
- **Firebase Cloud Run** (ì¤€ë¹„ ì™„ë£Œ)
- **Docker** (ì´ë¯¸ì§€ ë¹Œë“œ ì¤€ë¹„)
- **Google Cloud SDK** (ì„¤ì¹˜ ì™„ë£Œ)

---

## ğŸ”§ ë‹¤ìŒ ë‹¨ê³„

### 1ï¸âƒ£ Firebase Cloud Run ë°°í¬ (ì‚¬ìš©ì ì§ì ‘ ì‹¤í–‰ í•„ìš”)

**ë°°í¬ ëª…ë ¹ì–´**:
```bash
# 1. Google Cloud ë¡œê·¸ì¸
gcloud auth login

# 2. í”„ë¡œì íŠ¸ ì„¤ì •
gcloud config set project emotra-9ebdb

# 3. Cloud Run ë°°í¬
cd /Users/wngk/Work/study/trade_coin/tradecoin_flutter/backend
gcloud run deploy tradecoin-api \
  --source . \
  --platform managed \
  --region asia-northeast3 \
  --allow-unauthenticated \
  --memory 512Mi \
  --timeout 300s
```

**ë°°í¬ í›„**:
- ë°°í¬ URL íšë“: `https://tradecoin-api-xxx.a.run.app`
- Flutter ì•± `app_constants.dart`ì— URL ì—…ë°ì´íŠ¸
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (API í‚¤ ë“±)

**ìƒì„¸ ê°€ì´ë“œ**: `/backend/FIREBASE_CLOUD_RUN_ë°°í¬ê°€ì´ë“œ.md` ì°¸ê³ 

---

### 2ï¸âƒ£ ê³ ì‹ ë¢°ë„ ì‹œê·¸ë„ í‘¸ì‹œ ì•Œë¦¼ êµ¬í˜„ (ë‹¤ìŒ ì‘ì—…)

**ìš”êµ¬ì‚¬í•­**:
- ì‹ ë¢°ë„ â‰¥80% ì‹œê·¸ë„ ë°œìƒ ì‹œ ìë™ í‘¸ì‹œ
- Firebase Cloud Messaging ì—°ë™
- ë°±ê·¸ë¼ìš´ë“œì—ì„œë„ ë™ì‘

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 20ë¶„

**ì‘ì—… ìˆœì„œ**:
1. Firebase Messaging íŒ¨í‚¤ì§€ ì¶”ê°€ (`flutter pub add firebase_messaging`)
2. iOS/Android ê¶Œí•œ ì„¤ì •
3. Flutter ì•Œë¦¼ ì„œë¹„ìŠ¤ ìƒì„±
4. ë°±ì—”ë“œì—ì„œ FCM ë©”ì‹œì§€ ì „ì†¡
5. ì‹¤ê¸°ê¸° í…ŒìŠ¤íŠ¸

---

## ğŸ“‚ ë³€ê²½ëœ íŒŒì¼ ëª©ë¡

```
tradecoin_flutter/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile                        # ğŸ†• ìƒì„±
â”‚   â”œâ”€â”€ .dockerignore                     # ğŸ†• ìƒì„±
â”‚   â”œâ”€â”€ requirements.txt                  # ğŸ“ ìˆ˜ì • (googletrans ì¶”ê°€)
â”‚   â”œâ”€â”€ social_signal_generator.py        # ğŸ“ ìˆ˜ì • (ë²ˆì—­ ë°ì´í„° ì¶”ê°€)
â”‚   â””â”€â”€ FIREBASE_CLOUD_RUN_ë°°í¬ê°€ì´ë“œ.md  # ğŸ†• ìƒì„±
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ features/
â”‚           â””â”€â”€ signals/
â”‚               â”œâ”€â”€ models/
â”‚               â”‚   â””â”€â”€ signal_model.dart  # ğŸ“ ìˆ˜ì • (ë²ˆì—­ í•„ë“œ ì¶”ê°€)
â”‚               â””â”€â”€ screens/
â”‚                   â””â”€â”€ signals_screen.dart # ğŸ“ ìˆ˜ì • (ë²ˆì—­ UI í‘œì‹œ)
â””â”€â”€ WORK_COMPLETED_20251202.md            # ğŸ†• ìƒì„± (ì´ íŒŒì¼)
```

---

## ğŸ†˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: googletrans ì„¤ì¹˜ ì˜¤ë¥˜

**ì¦ìƒ**: `pip install googletrans` ì‹¤íŒ¨

**í•´ê²°**:
```bash
# íŠ¹ì • ë²„ì „ ì„¤ì¹˜
pip install googletrans==4.0.0-rc1
```

---

### ë¬¸ì œ 2: íŠ¸ìœ— ë°ì´í„° ì—†ìŒ

**ì¦ìƒ**: API ì‘ë‹µì—ì„œ `tweetTextKo`, `tweetTextEn`ì´ `null`

**ì›ì¸**: íŠ¸ìœ— íŒŒì¼ì´ ë¹„ì–´ìˆê±°ë‚˜ ì˜¤ë˜ë¨

**í•´ê²°**:
```bash
# íŠ¸ìœ— í¬ë¡¤ëŸ¬ ì‹¤í–‰
cd backend
python run_twitter_crawler.py

# ë˜ëŠ” ë°±ì—”ë“œ ì„œë²„ ì‹œì‘ (ìë™ 5ë¶„ë§ˆë‹¤ í¬ë¡¤ë§)
python main.py
```

---

### ë¬¸ì œ 3: ì„œë²„ ì¬ì‹œì‘ í›„ ë²ˆì—­ ì•ˆ ë¨

**ì¦ìƒ**: ì„œë²„ëŠ” ì •ìƒì´ë‚˜ ë²ˆì—­ì´ ë˜ì§€ ì•ŠìŒ

**í™•ì¸ì‚¬í•­**:
```bash
# googletrans ì„¤ì¹˜ í™•ì¸
pip list | grep googletrans

# ì—†ìœ¼ë©´ ì„¤ì¹˜
pip install googletrans==4.0.0-rc1

# ì„œë²„ ì¬ì‹œì‘
killall python
python main.py
```

---

## ğŸ“Š ì„±ëŠ¥ ë° ë¹„ìš©

### ë²ˆì—­ API ì„±ëŠ¥
- **Google Translate (ë¬´ë£Œ)**: ì‘ë‹µ ì‹œê°„ ~100ms
- **ì œí•œ ì—†ìŒ**: googletransëŠ” ë¬´ë£Œ ë¼ì´ë¸ŒëŸ¬ë¦¬

### Firebase Cloud Run ë¹„ìš©
- **ë¬´ë£Œ í• ë‹¹ëŸ‰**: ì›” 200ë§Œ ìš”ì²­
- **ì˜ˆìƒ ì‚¬ìš©ëŸ‰**: ì›” 30ë§Œ ìš”ì²­ (ì‚¬ìš©ì 500ëª… ê¸°ì¤€)
- **ì‹¤ì œ ë¹„ìš©**: **$0** (ë¬´ë£Œ ë²”ìœ„ ë‚´)

### Cold Start
- **ì²« ìš”ì²­ ì§€ì—°**: 5-10ì´ˆ
- **í•´ê²° ë°©ë²•**: `--min-instances 1` (ì›” $4 ì¶”ê°€ ë¹„ìš©)

---

## ğŸ‰ ì™„ì„±ë„

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 90% ì™„ë£Œ
```

**ë‚¨ì€ ì‘ì—…**:
- â³ Firebase Cloud Run ë°°í¬ (ì‚¬ìš©ì ë¡œê·¸ì¸ í•„ìš”)
- â³ ê³ ì‹ ë¢°ë„ ì‹œê·¸ë„ í‘¸ì‹œ ì•Œë¦¼ êµ¬í˜„

**ì™„ë£Œëœ ê¸°ëŠ¥**:
- âœ… íŠ¸ìœ— ë²ˆì—­ UI (í•œ/ì˜)
- âœ… Docker ì»¨í…Œì´ë„ˆí™”
- âœ… ë°°í¬ ê°€ì´ë“œ ë¬¸ì„œ
- âœ… ë°±ì—”ë“œ API í†µí•©
- âœ… Flutter UI ì—°ë™

---

## ğŸ“ ë¬¸ì˜ ì‚¬í•­

ë°°í¬ ë˜ëŠ” êµ¬í˜„ ê´€ë ¨ ë¬¸ì˜ê°€ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë§ì”€í•´ì£¼ì„¸ìš”!

ë‹¤ìŒ ì‘ì—…ì„ ì‹œì‘í•˜ë ¤ë©´:
- "Firebase Cloud Run ë°°í¬í•´ì¤˜" (ì‚¬ìš©ì ë¡œê·¸ì¸ í•„ìš”)
- "ê³ ì‹ ë¢°ë„ ì•Œë¦¼ êµ¬í˜„í•´ì¤˜"
- "ì‹¤ê¸°ê¸° í…ŒìŠ¤íŠ¸í•´ì¤˜"

---

**ì‘ì—… ì™„ë£Œ!** ğŸš€
